{"version":3,"sources":["webpack:///./src/api/modules/query.js","webpack:///./src/api/resources/note/note.controller.js","webpack:///./src/api/resources/note/note.restRouter.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"lodash\""],"names":["testData","message","controllers","createOne","model","body","resolve","updateOne","docToUpdate","update","deleteOne","docToDelete","getOne","docToGet","getAll","findByParam","id","req","res","next","then","status","json","doc","catch","err","docFromId","docs","Error","generateControllers","overrides","defaults","Note","noteRouter","express","Router","param","noteController","route","get","post","put","delete"],"mappings":"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","file":"0.4b4800b222029ab410e2.hot-update.js","sourcesContent":["import merge from 'lodash'\nconst testData = { message: 'hello' }\n\nexport const controllers = {\n  createOne(model, body) {\n    return Promise.resolve(testData)\n  },\n\n  updateOne(docToUpdate, update) {\n    return Promise.resolve(testData)\n  },\n\n  deleteOne(docToDelete) {\n    return Promise.resolve(testData)\n  },\n\n  getOne(docToGet) {\n    return Promise.resolve(testData)\n  },\n\n  getAll(model) {\n    return Promise.resolve(testData)\n  },\n\n  findByParam(model, id) {\n    return Promise.resolve(testData)\n  }\n}\n\nexport const createOne = model => (req, res, next) => {\n  return controllers.createOne(model, req.body)\n    .then(doc => res.status(201).json(doc))\n    .catch(err => next(err))\n}\n\nexport const updateOne = model => async (req, res, next) => {\n  const docToUpdate = req.docFromId\n  const update = req.body\n\n  return controllers.updateOne(docToUpdate, update)\n    .then(doc => res.status(201).json(doc))\n    .catch(err => next(err))\n}\n\nexport const deleteOne = model => (req, res, next) => {\n  return controllers.deleteOne(req.docFromId)\n    .then(doc => res.status(201).json(doc))\n    .catch(err => next(err))\n}\n\nexport const getOne = model => (req, res, next) => {\n  return controllers.getOne(req.docFromId)\n    .then(doc => res.status(201).json(doc))\n    .catch(err => next(err))\n}\n\nexport const getAll = model => (req, res, next) => {\n  return controllers.getAll(model)\n    .then(docs => res.status(201).json(docs))\n    .catch(err => next(err))\n}\n\nexport const findByParam = model => (req, res, next, id) => {\n  return controllers.findByParam(model, id)\n    .then(doc => {\n      if (!doc) next(new Error('Not found error'))\n      else {\n        // this is where we actually attach the doc to the req object\n        req.docFromId = doc\n        next()\n      }\n    })\n    .catch(err => next(err))\n}\n\nexport const generateControllers = (model, overrides = {}) => {\n  const defaults = {\n    findByParam: findByParam(model),\n    getAll: getAll(model),\n    getOne: getOne(model),\n    deleteOne: deleteOne(model),\n    updateOne: updateOne(model),\n    createOne: createOne(model),\n  }\n  return { ...defaults, ...overrides }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/modules/query.js","import { generateControllers } from '../../modules/query'\nimport { Note } from './note.model'\n\nexport default generateControllers(Note)\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/resources/note/note.controller.js","import express from 'express'\nimport noteController from './note.controller'\n\nexport const noteRouter = express.Router()\n\nnoteRouter.param('id', noteController.findByParam)\n\nnoteRouter.route('/')\n  .get(noteController.getAll)\n  .post(noteController.createOne)\n\nnoteRouter.route('/:id')\n  // before any method is run, req.docFromId will already be set\n  // bc of the function associated with `noteRouter.param('id')` above\n  .get(noteController.getOne)\n  .put(noteController.updateOne)\n  .delete(noteController.deleteOne)\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/resources/note/note.restRouter.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = babel-runtime/core-js/promise\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = babel-runtime/helpers/asyncToGenerator\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/extends\"\n// module id = babel-runtime/helpers/extends\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = lodash\n// module chunks = 0"],"sourceRoot":""}