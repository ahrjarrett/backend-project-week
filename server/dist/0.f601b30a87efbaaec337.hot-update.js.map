{"version":3,"sources":["webpack:///./src/api/resources/user/user.model.js"],"names":["schema","email","type","String","required","password","username","notes","mongoose","Schema","Types","ObjectId","ref","userSchema","timestamps","methods","authenticate","plainTextPassword","bcrypt","compareSync","hashPassword","Error","salt","genSaltSync","hashSync","User","model"],"mappings":";;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAMA,SAAS;AACpBC,SAAO;AACLC,UAAMC,MADD;AAELC,cAAU,CAAC,IAAD,EAAO,yBAAP;AAFL,GADa;;AAMpBC,YAAU;AACRH,UAAMC,MADE;AAERC,cAAU,CAAC,IAAD,EAAO,4BAAP;AAFF,GANU;;AAWpBE,YAAU;AACRJ,UAAMC;AACN;AAFQ,GAXU;;AAgBpBI,SAAO,CAAC;AACNL,UAAMM,gDAAQA,CAACC,MAAT,CAAgBC,KAAhB,CAAsBC,QADtB;AAENC,SAAK;AAFC,GAAD;;AAhBa,CAAf;;AAuBP,IAAMC,aAAa,IAAIL,gDAAQA,CAACC,MAAb,CAAoBT,MAApB,EAA4B,EAAEc,YAAY,IAAd,EAA5B,CAAnB;;AAEAD,WAAWE,OAAX,GAAqB;AACnBC,cADmB,wBACNC,iBADM,EACa;AAC9B,WAAOC,8CAAMA,CAACC,WAAP,CAAmBF,iBAAnB,EAAsC,KAAKZ,QAA3C,CAAP;AACD,GAHkB;AAInBe,cAJmB,wBAINH,iBAJM,EAIa;AAC9B,QAAI,CAACA,iBAAL,EAAwB;AACtB,YAAM,IAAII,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,QAAMC,OAAOJ,8CAAMA,CAACK,WAAP,CAAmB,EAAnB,CAAb;AACA,WAAOL,8CAAMA,CAACM,QAAP,CAAgBP,iBAAhB,EAAmCK,IAAnC,CAAP;AACD;AAXkB,CAArB;;AAcO,IAAMG,OAAOjB,gDAAQA,CAACkB,KAAT,CAAe,MAAf,EAAuBb,UAAvB,CAAb,C","file":"0.f601b30a87efbaaec337.hot-update.js","sourcesContent":["import mongoose from 'mongoose'\nimport bcrypt from 'bcrypt'\n\nexport const schema = {\n  email: {\n    type: String,\n    required: [true, 'User email is required.'],\n  },\n\n  password: {\n    type: String,\n    required: [true, 'User password is required.'],\n  },\n\n  username: {\n    type: String,\n    // default: this.email,\n  },\n\n  notes: [{\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'note'\n  }],\n\n}\n\nconst userSchema = new mongoose.Schema(schema, { timestamps: true })\n\nuserSchema.methods = {\n  authenticate(plainTextPassword) {\n    return bcrypt.compareSync(plainTextPassword, this.password)\n  },\n  hashPassword(plainTextPassword) {\n    if (!plainTextPassword) {\n      throw new Error('Could not save user')\n    }\n\n    const salt = bcrypt.genSaltSync(10)\n    return bcrypt.hashSync(plainTextPassword, salt)\n  }\n}\n\nexport const User = mongoose.model('user', userSchema)\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/resources/user/user.model.js"],"sourceRoot":""}